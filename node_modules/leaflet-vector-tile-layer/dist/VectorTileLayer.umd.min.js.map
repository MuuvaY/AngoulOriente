{"version":3,"file":"VectorTileLayer.umd.min.js","sources":["../src/js/FeatureTile.js","../node_modules/@mapbox/point-geometry/index.js","../node_modules/@mapbox/vector-tile/lib/vectortilefeature.js","../node_modules/@mapbox/vector-tile/lib/vectortilelayer.js","../node_modules/@mapbox/vector-tile/lib/vectortile.js","../node_modules/@mapbox/vector-tile/index.js","../src/js/FeatureLayer.js","../node_modules/ieee754/index.js","../node_modules/pbf/index.js","../src/js/VectorTileLayer.js","../src/js/UmdCompatibility.js"],"sourcesContent":["/*\n * Copyright 2017, Joachim Kuebart <joachim.kuebart@gmail.com>\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n *   1. Redistributions of source code must retain the above copyright\n *      notice, this list of conditions and the following disclaimer.\n *\n *   2. Redistributions in binary form must reproduce the above copyright\n *      notice, this list of conditions and the following disclaimer in the\n *      documentation and/or other materials provided with the\n *      distribution.\n *\n *   3. Neither the name of the copyright holder nor the names of its\n *      contributors may be used to endorse or promote products derived\n *      from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n */\n\n/*property\n    add, addFeatureLayer, addVectorTile, appendChild, coords, create, divideBy,\n    domElement, eachFeatureLayer, extent, feature, featureToLayer, forEach,\n    freeze, getFeatureStyle, getOrderedLayers, getTileSize, global, graphics,\n    keys, layers, length, push, scaleBy, setAttribute, x, y, z\n*/\n\nimport {SVG} from \"leaflet\";\n\nexport default Object.freeze(function featureTile(coords, layer) {\n    const self = {};\n    const m_tileSize = layer.getTileSize();\n    const m_svg = SVG.create(\"svg\");\n    const m_rootGroup = SVG.create(\"g\");\n    const m_layers = [];\n\n    m_svg.setAttribute(\"viewBox\", `0 0 ${m_tileSize.x} ${m_tileSize.y}`);\n    m_svg.appendChild(m_rootGroup);\n\n    function addFeature(feature, layerName, pxPerExtent) {\n        const featureStyle = layer.getFeatureStyle(\n            feature,\n            layerName,\n            coords.z\n        );\n        if (!featureStyle) {\n            return;\n        }\n\n        const ftrLyr = layer.featureToLayer(\n            feature,\n            layerName,\n            pxPerExtent,\n            featureStyle\n        );\n\n        m_rootGroup.appendChild(ftrLyr.graphics);\n\n        m_layers.push(ftrLyr);\n        layer.addFeatureLayer(ftrLyr);\n    }\n\n    self.addVectorTile = function addVectorTile(vectorTile) {\n        layer.getOrderedLayers(\n            Object.keys(vectorTile.layers),\n            coords.z\n        ).forEach(function (layerName) {\n            if (!vectorTile.layers[layerName]) {\n                return;\n            }\n            const tileLayer = vectorTile.layers[layerName];\n            const pxPerExtent = m_tileSize.divideBy(tileLayer.extent);\n\n            let i = 0;\n            while (i !== tileLayer.length) {\n                addFeature(tileLayer.feature(i), layerName, pxPerExtent);\n                i += 1;\n            }\n        });\n\n        return self;\n    };\n\n    self.global = (p) => coords.scaleBy(m_tileSize).add(p);\n    self.eachFeatureLayer = (func) => m_layers.forEach(\n        (...args) => func(...args, self)\n    );\n    self.domElement = () => m_svg;\n    self.coords = () => coords;\n\n    return self;\n});\n","'use strict';\n\nmodule.exports = Point;\n\n/**\n * A standalone point geometry with useful accessor, comparison, and\n * modification methods.\n *\n * @class Point\n * @param {Number} x the x-coordinate. this could be longitude or screen\n * pixels, or any other sort of unit.\n * @param {Number} y the y-coordinate. this could be latitude or screen\n * pixels, or any other sort of unit.\n * @example\n * var point = new Point(-77, 38);\n */\nfunction Point(x, y) {\n    this.x = x;\n    this.y = y;\n}\n\nPoint.prototype = {\n\n    /**\n     * Clone this point, returning a new point that can be modified\n     * without affecting the old one.\n     * @return {Point} the clone\n     */\n    clone: function() { return new Point(this.x, this.y); },\n\n    /**\n     * Add this point's x & y coordinates to another point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    add:     function(p) { return this.clone()._add(p); },\n\n    /**\n     * Subtract this point's x & y coordinates to from point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    sub:     function(p) { return this.clone()._sub(p); },\n\n    /**\n     * Multiply this point's x & y coordinates by point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    multByPoint:    function(p) { return this.clone()._multByPoint(p); },\n\n    /**\n     * Divide this point's x & y coordinates by point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    divByPoint:     function(p) { return this.clone()._divByPoint(p); },\n\n    /**\n     * Multiply this point's x & y coordinates by a factor,\n     * yielding a new point.\n     * @param {Point} k factor\n     * @return {Point} output point\n     */\n    mult:    function(k) { return this.clone()._mult(k); },\n\n    /**\n     * Divide this point's x & y coordinates by a factor,\n     * yielding a new point.\n     * @param {Point} k factor\n     * @return {Point} output point\n     */\n    div:     function(k) { return this.clone()._div(k); },\n\n    /**\n     * Rotate this point around the 0, 0 origin by an angle a,\n     * given in radians\n     * @param {Number} a angle to rotate around, in radians\n     * @return {Point} output point\n     */\n    rotate:  function(a) { return this.clone()._rotate(a); },\n\n    /**\n     * Rotate this point around p point by an angle a,\n     * given in radians\n     * @param {Number} a angle to rotate around, in radians\n     * @param {Point} p Point to rotate around\n     * @return {Point} output point\n     */\n    rotateAround:  function(a,p) { return this.clone()._rotateAround(a,p); },\n\n    /**\n     * Multiply this point by a 4x1 transformation matrix\n     * @param {Array<Number>} m transformation matrix\n     * @return {Point} output point\n     */\n    matMult: function(m) { return this.clone()._matMult(m); },\n\n    /**\n     * Calculate this point but as a unit vector from 0, 0, meaning\n     * that the distance from the resulting point to the 0, 0\n     * coordinate will be equal to 1 and the angle from the resulting\n     * point to the 0, 0 coordinate will be the same as before.\n     * @return {Point} unit vector point\n     */\n    unit:    function() { return this.clone()._unit(); },\n\n    /**\n     * Compute a perpendicular point, where the new y coordinate\n     * is the old x coordinate and the new x coordinate is the old y\n     * coordinate multiplied by -1\n     * @return {Point} perpendicular point\n     */\n    perp:    function() { return this.clone()._perp(); },\n\n    /**\n     * Return a version of this point with the x & y coordinates\n     * rounded to integers.\n     * @return {Point} rounded point\n     */\n    round:   function() { return this.clone()._round(); },\n\n    /**\n     * Return the magitude of this point: this is the Euclidean\n     * distance from the 0, 0 coordinate to this point's x and y\n     * coordinates.\n     * @return {Number} magnitude\n     */\n    mag: function() {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    },\n\n    /**\n     * Judge whether this point is equal to another point, returning\n     * true or false.\n     * @param {Point} other the other point\n     * @return {boolean} whether the points are equal\n     */\n    equals: function(other) {\n        return this.x === other.x &&\n               this.y === other.y;\n    },\n\n    /**\n     * Calculate the distance from this point to another point\n     * @param {Point} p the other point\n     * @return {Number} distance\n     */\n    dist: function(p) {\n        return Math.sqrt(this.distSqr(p));\n    },\n\n    /**\n     * Calculate the distance from this point to another point,\n     * without the square root step. Useful if you're comparing\n     * relative distances.\n     * @param {Point} p the other point\n     * @return {Number} distance\n     */\n    distSqr: function(p) {\n        var dx = p.x - this.x,\n            dy = p.y - this.y;\n        return dx * dx + dy * dy;\n    },\n\n    /**\n     * Get the angle from the 0, 0 coordinate to this point, in radians\n     * coordinates.\n     * @return {Number} angle\n     */\n    angle: function() {\n        return Math.atan2(this.y, this.x);\n    },\n\n    /**\n     * Get the angle from this point to another point, in radians\n     * @param {Point} b the other point\n     * @return {Number} angle\n     */\n    angleTo: function(b) {\n        return Math.atan2(this.y - b.y, this.x - b.x);\n    },\n\n    /**\n     * Get the angle between this point and another point, in radians\n     * @param {Point} b the other point\n     * @return {Number} angle\n     */\n    angleWith: function(b) {\n        return this.angleWithSep(b.x, b.y);\n    },\n\n    /*\n     * Find the angle of the two vectors, solving the formula for\n     * the cross product a x b = |a||b|sin(θ) for θ.\n     * @param {Number} x the x-coordinate\n     * @param {Number} y the y-coordinate\n     * @return {Number} the angle in radians\n     */\n    angleWithSep: function(x, y) {\n        return Math.atan2(\n            this.x * y - this.y * x,\n            this.x * x + this.y * y);\n    },\n\n    _matMult: function(m) {\n        var x = m[0] * this.x + m[1] * this.y,\n            y = m[2] * this.x + m[3] * this.y;\n        this.x = x;\n        this.y = y;\n        return this;\n    },\n\n    _add: function(p) {\n        this.x += p.x;\n        this.y += p.y;\n        return this;\n    },\n\n    _sub: function(p) {\n        this.x -= p.x;\n        this.y -= p.y;\n        return this;\n    },\n\n    _mult: function(k) {\n        this.x *= k;\n        this.y *= k;\n        return this;\n    },\n\n    _div: function(k) {\n        this.x /= k;\n        this.y /= k;\n        return this;\n    },\n\n    _multByPoint: function(p) {\n        this.x *= p.x;\n        this.y *= p.y;\n        return this;\n    },\n\n    _divByPoint: function(p) {\n        this.x /= p.x;\n        this.y /= p.y;\n        return this;\n    },\n\n    _unit: function() {\n        this._div(this.mag());\n        return this;\n    },\n\n    _perp: function() {\n        var y = this.y;\n        this.y = this.x;\n        this.x = -y;\n        return this;\n    },\n\n    _rotate: function(angle) {\n        var cos = Math.cos(angle),\n            sin = Math.sin(angle),\n            x = cos * this.x - sin * this.y,\n            y = sin * this.x + cos * this.y;\n        this.x = x;\n        this.y = y;\n        return this;\n    },\n\n    _rotateAround: function(angle, p) {\n        var cos = Math.cos(angle),\n            sin = Math.sin(angle),\n            x = p.x + cos * (this.x - p.x) - sin * (this.y - p.y),\n            y = p.y + sin * (this.x - p.x) + cos * (this.y - p.y);\n        this.x = x;\n        this.y = y;\n        return this;\n    },\n\n    _round: function() {\n        this.x = Math.round(this.x);\n        this.y = Math.round(this.y);\n        return this;\n    }\n};\n\n/**\n * Construct a point from an array if necessary, otherwise if the input\n * is already a Point, or an unknown type, return it unchanged\n * @param {Array<Number>|Point|*} a any kind of input value\n * @return {Point} constructed point, or passed-through value.\n * @example\n * // this\n * var point = Point.convert([0, 1]);\n * // is equivalent to\n * var point = new Point(0, 1);\n */\nPoint.convert = function (a) {\n    if (a instanceof Point) {\n        return a;\n    }\n    if (Array.isArray(a)) {\n        return new Point(a[0], a[1]);\n    }\n    return a;\n};\n","'use strict';\n\nvar Point = require('@mapbox/point-geometry');\n\nmodule.exports = VectorTileFeature;\n\nfunction VectorTileFeature(pbf, end, extent, keys, values) {\n    // Public\n    this.properties = {};\n    this.extent = extent;\n    this.type = 0;\n\n    // Private\n    this._pbf = pbf;\n    this._geometry = -1;\n    this._keys = keys;\n    this._values = values;\n\n    pbf.readFields(readFeature, this, end);\n}\n\nfunction readFeature(tag, feature, pbf) {\n    if (tag == 1) feature.id = pbf.readVarint();\n    else if (tag == 2) readTag(pbf, feature);\n    else if (tag == 3) feature.type = pbf.readVarint();\n    else if (tag == 4) feature._geometry = pbf.pos;\n}\n\nfunction readTag(pbf, feature) {\n    var end = pbf.readVarint() + pbf.pos;\n\n    while (pbf.pos < end) {\n        var key = feature._keys[pbf.readVarint()],\n            value = feature._values[pbf.readVarint()];\n        feature.properties[key] = value;\n    }\n}\n\nVectorTileFeature.types = ['Unknown', 'Point', 'LineString', 'Polygon'];\n\nVectorTileFeature.prototype.loadGeometry = function() {\n    var pbf = this._pbf;\n    pbf.pos = this._geometry;\n\n    var end = pbf.readVarint() + pbf.pos,\n        cmd = 1,\n        length = 0,\n        x = 0,\n        y = 0,\n        lines = [],\n        line;\n\n    while (pbf.pos < end) {\n        if (length <= 0) {\n            var cmdLen = pbf.readVarint();\n            cmd = cmdLen & 0x7;\n            length = cmdLen >> 3;\n        }\n\n        length--;\n\n        if (cmd === 1 || cmd === 2) {\n            x += pbf.readSVarint();\n            y += pbf.readSVarint();\n\n            if (cmd === 1) { // moveTo\n                if (line) lines.push(line);\n                line = [];\n            }\n\n            line.push(new Point(x, y));\n\n        } else if (cmd === 7) {\n\n            // Workaround for https://github.com/mapbox/mapnik-vector-tile/issues/90\n            if (line) {\n                line.push(line[0].clone()); // closePolygon\n            }\n\n        } else {\n            throw new Error('unknown command ' + cmd);\n        }\n    }\n\n    if (line) lines.push(line);\n\n    return lines;\n};\n\nVectorTileFeature.prototype.bbox = function() {\n    var pbf = this._pbf;\n    pbf.pos = this._geometry;\n\n    var end = pbf.readVarint() + pbf.pos,\n        cmd = 1,\n        length = 0,\n        x = 0,\n        y = 0,\n        x1 = Infinity,\n        x2 = -Infinity,\n        y1 = Infinity,\n        y2 = -Infinity;\n\n    while (pbf.pos < end) {\n        if (length <= 0) {\n            var cmdLen = pbf.readVarint();\n            cmd = cmdLen & 0x7;\n            length = cmdLen >> 3;\n        }\n\n        length--;\n\n        if (cmd === 1 || cmd === 2) {\n            x += pbf.readSVarint();\n            y += pbf.readSVarint();\n            if (x < x1) x1 = x;\n            if (x > x2) x2 = x;\n            if (y < y1) y1 = y;\n            if (y > y2) y2 = y;\n\n        } else if (cmd !== 7) {\n            throw new Error('unknown command ' + cmd);\n        }\n    }\n\n    return [x1, y1, x2, y2];\n};\n\nVectorTileFeature.prototype.toGeoJSON = function(x, y, z) {\n    var size = this.extent * Math.pow(2, z),\n        x0 = this.extent * x,\n        y0 = this.extent * y,\n        coords = this.loadGeometry(),\n        type = VectorTileFeature.types[this.type],\n        i, j;\n\n    function project(line) {\n        for (var j = 0; j < line.length; j++) {\n            var p = line[j], y2 = 180 - (p.y + y0) * 360 / size;\n            line[j] = [\n                (p.x + x0) * 360 / size - 180,\n                360 / Math.PI * Math.atan(Math.exp(y2 * Math.PI / 180)) - 90\n            ];\n        }\n    }\n\n    switch (this.type) {\n    case 1:\n        var points = [];\n        for (i = 0; i < coords.length; i++) {\n            points[i] = coords[i][0];\n        }\n        coords = points;\n        project(coords);\n        break;\n\n    case 2:\n        for (i = 0; i < coords.length; i++) {\n            project(coords[i]);\n        }\n        break;\n\n    case 3:\n        coords = classifyRings(coords);\n        for (i = 0; i < coords.length; i++) {\n            for (j = 0; j < coords[i].length; j++) {\n                project(coords[i][j]);\n            }\n        }\n        break;\n    }\n\n    if (coords.length === 1) {\n        coords = coords[0];\n    } else {\n        type = 'Multi' + type;\n    }\n\n    var result = {\n        type: \"Feature\",\n        geometry: {\n            type: type,\n            coordinates: coords\n        },\n        properties: this.properties\n    };\n\n    if ('id' in this) {\n        result.id = this.id;\n    }\n\n    return result;\n};\n\n// classifies an array of rings into polygons with outer rings and holes\n\nfunction classifyRings(rings) {\n    var len = rings.length;\n\n    if (len <= 1) return [rings];\n\n    var polygons = [],\n        polygon,\n        ccw;\n\n    for (var i = 0; i < len; i++) {\n        var area = signedArea(rings[i]);\n        if (area === 0) continue;\n\n        if (ccw === undefined) ccw = area < 0;\n\n        if (ccw === area < 0) {\n            if (polygon) polygons.push(polygon);\n            polygon = [rings[i]];\n\n        } else {\n            polygon.push(rings[i]);\n        }\n    }\n    if (polygon) polygons.push(polygon);\n\n    return polygons;\n}\n\nfunction signedArea(ring) {\n    var sum = 0;\n    for (var i = 0, len = ring.length, j = len - 1, p1, p2; i < len; j = i++) {\n        p1 = ring[i];\n        p2 = ring[j];\n        sum += (p2.x - p1.x) * (p1.y + p2.y);\n    }\n    return sum;\n}\n","'use strict';\n\nvar VectorTileFeature = require('./vectortilefeature.js');\n\nmodule.exports = VectorTileLayer;\n\nfunction VectorTileLayer(pbf, end) {\n    // Public\n    this.version = 1;\n    this.name = null;\n    this.extent = 4096;\n    this.length = 0;\n\n    // Private\n    this._pbf = pbf;\n    this._keys = [];\n    this._values = [];\n    this._features = [];\n\n    pbf.readFields(readLayer, this, end);\n\n    this.length = this._features.length;\n}\n\nfunction readLayer(tag, layer, pbf) {\n    if (tag === 15) layer.version = pbf.readVarint();\n    else if (tag === 1) layer.name = pbf.readString();\n    else if (tag === 5) layer.extent = pbf.readVarint();\n    else if (tag === 2) layer._features.push(pbf.pos);\n    else if (tag === 3) layer._keys.push(pbf.readString());\n    else if (tag === 4) layer._values.push(readValueMessage(pbf));\n}\n\nfunction readValueMessage(pbf) {\n    var value = null,\n        end = pbf.readVarint() + pbf.pos;\n\n    while (pbf.pos < end) {\n        var tag = pbf.readVarint() >> 3;\n\n        value = tag === 1 ? pbf.readString() :\n            tag === 2 ? pbf.readFloat() :\n            tag === 3 ? pbf.readDouble() :\n            tag === 4 ? pbf.readVarint64() :\n            tag === 5 ? pbf.readVarint() :\n            tag === 6 ? pbf.readSVarint() :\n            tag === 7 ? pbf.readBoolean() : null;\n    }\n\n    return value;\n}\n\n// return feature `i` from this layer as a `VectorTileFeature`\nVectorTileLayer.prototype.feature = function(i) {\n    if (i < 0 || i >= this._features.length) throw new Error('feature index out of bounds');\n\n    this._pbf.pos = this._features[i];\n\n    var end = this._pbf.readVarint() + this._pbf.pos;\n    return new VectorTileFeature(this._pbf, end, this.extent, this._keys, this._values);\n};\n","'use strict';\n\nvar VectorTileLayer = require('./vectortilelayer');\n\nmodule.exports = VectorTile;\n\nfunction VectorTile(pbf, end) {\n    this.layers = pbf.readFields(readTile, {}, end);\n}\n\nfunction readTile(tag, layers, pbf) {\n    if (tag === 3) {\n        var layer = new VectorTileLayer(pbf, pbf.readVarint() + pbf.pos);\n        if (layer.length) layers[layer.name] = layer;\n    }\n}\n\n","module.exports.VectorTile = require('./lib/vectortile.js');\nmodule.exports.VectorTileFeature = require('./lib/vectortilefeature.js');\nmodule.exports.VectorTileLayer = require('./lib/vectortilelayer.js');\n","/*\n * Copyright 2017, Joachim Kuebart <joachim.kuebart@gmail.com>\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n *   1. Redistributions of source code must retain the above copyright\n *      notice, this list of conditions and the following disclaimer.\n *\n *   2. Redistributions in binary form must reproduce the above copyright\n *      notice, this list of conditions and the following disclaimer in the\n *      documentation and/or other materials provided with the\n *      distribution.\n *\n *   3. Neither the name of the copyright holder nor the names of its\n *      contributors may be used to endorse or promote products derived\n *      from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n */\n\n/*property\n    _map, addClass, addInteractiveTarget, addTo, applyOptions, bbox, className,\n    color, create, dashArray, dashOffset, feature, fill, fillColor, fillOpacity,\n    fillRule, graphics, hidden, icon, iconAnchor, iconSize, iconUrl,\n    interactive, layerName, lineCap, lineJoin, loadGeometry, map, opacity,\n    options, pointsToPath, properties, prototype, radius, removeAttribute,\n    removeClass, removeFrom, removeInteractiveTarget, scaleBy, scalePoint,\n    setAttribute, setStyle, stroke, type, types, weight, x, y\n*/\n\nimport {\n    CircleMarker,\n    DomUtil,\n    Layer,\n    Path,\n    Polygon,\n    SVG,\n    bounds,\n    extend,\n    point\n} from \"leaflet\";\n\nimport {VectorTileFeature} from \"@mapbox/vector-tile\";\n\nfunction featureLayerBase(feature, layerName, pxPerExtent, options) {\n    const self = new Layer(options);\n\n    self.feature = feature;\n    self.layerName = layerName;\n\n    // Compatibility with Leaflet.VectorGrid\n    self.properties = feature.properties;\n\n    /*\n     * FeatureLayers only serve as event targets and are never actually\n     * \"added\" to the map, so we override the base class's addTo.\n     */\n    self.addTo = function addTo(map) {\n        // Required by addInteractiveTarget.\n        self._map = map;\n        self.addInteractiveTarget(self.graphics);\n    };\n\n    self.removeFrom = function removeFrom() {\n        self.removeInteractiveTarget(self.graphics);\n        delete self._map;\n    };\n\n    self.scalePoint = function scalePoint(p) {\n        return point(p).scaleBy(pxPerExtent);\n    };\n\n    self.bbox = function bbox() {\n        const [x0, y0, x1, y1] = feature.bbox();\n        return bounds(self.scalePoint([x0, y0]), self.scalePoint([x1, y1]));\n    };\n\n    // Configure this feature layer for its options at a basic level.\n    self.applyOptions = function applyOptions(options) {\n        if (options.className) {\n            DomUtil.addClass(self.graphics, options.className);\n        }\n        // Apply style based on options alone with no overrides.\n        self.setStyle({});\n    };\n\n    return self;\n}\nexport {featureLayerBase};\n\nfunction applyBasicStyle(element, style) {\n    if (style.interactive) {\n        /*\n         * Leaflet's \"interactive\" class only applies to\n         * renderers that are immediate descendants of a\n         * pane.\n         */\n        element.setAttribute(\"pointer-events\", \"auto\");\n        DomUtil.addClass(element, \"leaflet-interactive\");\n    } else {\n        DomUtil.removeClass(element, \"leaflet-interactive\");\n        element.removeAttribute(\"pointer-events\");\n    }\n\n    if (style.hidden) {\n        element.setAttribute(\"visibility\", \"hidden\");\n    } else {\n        element.removeAttribute(\"visibility\");\n    }\n}\nexport {applyBasicStyle};\n\nfunction applyPathStyle(path, style) {\n    if (style.stroke) {\n        path.setAttribute(\"stroke\", style.color);\n        path.setAttribute(\"stroke-opacity\", style.opacity);\n        path.setAttribute(\"stroke-width\", style.weight);\n        path.setAttribute(\"stroke-linecap\", style.lineCap);\n        path.setAttribute(\"stroke-linejoin\", style.lineJoin);\n\n        if (style.dashArray) {\n            path.setAttribute(\"stroke-dasharray\", style.dashArray);\n        } else {\n            path.removeAttribute(\"stroke-dasharray\");\n        }\n\n        if (style.dashOffset) {\n            path.setAttribute(\"stroke-dashoffset\", style.dashOffset);\n        } else {\n            path.removeAttribute(\"stroke-dashoffset\");\n        }\n    } else {\n        path.setAttribute(\"stroke\", \"none\");\n    }\n\n    if (style.fill) {\n        path.setAttribute(\"fill\", style.fillColor || style.color);\n        path.setAttribute(\"fill-opacity\", style.fillOpacity);\n        path.setAttribute(\"fill-rule\", style.fillRule || \"evenodd\");\n    } else {\n        path.setAttribute(\"fill\", \"none\");\n    }\n\n    return path;\n}\nexport {applyPathStyle};\n\nfunction applyImageStyle(image, style) {\n    if (style.icon) {\n        image.setAttribute(\"width\", style.icon.options.iconSize[0]);\n        image.setAttribute(\"height\", style.icon.options.iconSize[1]);\n        image.setAttribute(\"href\", style.icon.options.iconUrl);\n    }\n}\nexport {applyImageStyle};\n\nfunction featureCircleLayer(feature, layerName, pxPerExtent, options) {\n    options = extend({}, CircleMarker.prototype.options, options);\n    const self = featureLayerBase(feature, layerName, pxPerExtent, options);\n\n    const pt = self.scalePoint(feature.loadGeometry()[0][0]);\n    self.graphics = SVG.create(\"circle\");\n    self.graphics.setAttribute(\"cx\", pt.x);\n    self.graphics.setAttribute(\"cy\", pt.y);\n\n    self.setStyle = function setStyle(style) {\n        style = extend({}, options, style);\n        applyBasicStyle(self.graphics, style);\n        applyPathStyle(self.graphics, style);\n        self.graphics.setAttribute(\"r\", style.radius);\n    };\n\n    self.applyOptions(options);\n\n    return self;\n}\nexport {featureCircleLayer};\n\nfunction featurePathLayer(feature, layerName, pxPerExtent, options) {\n    const featureType = VectorTileFeature.types[feature.type];\n    options = extend(\n        {},\n        (\n            \"Polygon\" === featureType\n            ? Polygon.prototype.options\n            : Path.prototype.options\n        ),\n        options\n    );\n\n    const self = featureLayerBase(feature, layerName, pxPerExtent, options);\n\n    const geometry = feature.loadGeometry();\n    self.graphics = SVG.create(\"path\");\n    self.graphics.setAttribute(\"d\", SVG.pointsToPath(\n        geometry.map((ring) => ring.map(self.scalePoint)),\n        \"Polygon\" === featureType\n    ));\n\n    self.setStyle = function setStyle(style) {\n        style = extend({}, options, style);\n        applyBasicStyle(self.graphics, style);\n        applyPathStyle(self.graphics, style);\n    };\n\n    self.applyOptions(options);\n\n    return self;\n}\nexport {featurePathLayer};\n\nfunction featureIconLayer(feature, layerName, pxPerExtent, options) {\n    const self = featureLayerBase(feature, layerName, pxPerExtent, options);\n\n    self.setStyle = function setStyle(style) {\n        style = extend({}, options, style);\n        applyBasicStyle(self.graphics, style);\n        applyImageStyle(self.graphics, style);\n    };\n\n    self.graphics = SVG.create(\"image\");\n\n    const pos = self.scalePoint(feature.loadGeometry()[0][0]);\n    const anchor = options.icon.options.iconAnchor || [0, 0];\n    self.graphics.setAttribute(\"x\", pos.x - anchor[0]);\n    self.graphics.setAttribute(\"y\", pos.y - anchor[1]);\n\n    self.applyOptions(options);\n\n    return self;\n}\nexport {featureIconLayer};\n\nfunction defaultFeatureLayer(feature, layerName, pxPerExtent, options) {\n    switch (VectorTileFeature.types[feature.type]) {\n    case \"Point\":\n        if (options.icon) {\n            return featureIconLayer(feature, layerName, pxPerExtent, options);\n        }\n        return featureCircleLayer(feature, layerName, pxPerExtent, options);\n\n    case \"Polygon\":\n    case \"LineString\":\n        return featurePathLayer(feature, layerName, pxPerExtent, options);\n\n    default:\n        throw new Error(\"Unknown feature type\");\n    }\n}\nexport {defaultFeatureLayer};\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","'use strict';\n\nmodule.exports = Pbf;\n\nvar ieee754 = require('ieee754');\n\nfunction Pbf(buf) {\n    this.buf = ArrayBuffer.isView && ArrayBuffer.isView(buf) ? buf : new Uint8Array(buf || 0);\n    this.pos = 0;\n    this.type = 0;\n    this.length = this.buf.length;\n}\n\nPbf.Varint  = 0; // varint: int32, int64, uint32, uint64, sint32, sint64, bool, enum\nPbf.Fixed64 = 1; // 64-bit: double, fixed64, sfixed64\nPbf.Bytes   = 2; // length-delimited: string, bytes, embedded messages, packed repeated fields\nPbf.Fixed32 = 5; // 32-bit: float, fixed32, sfixed32\n\nvar SHIFT_LEFT_32 = (1 << 16) * (1 << 16),\n    SHIFT_RIGHT_32 = 1 / SHIFT_LEFT_32;\n\n// Threshold chosen based on both benchmarking and knowledge about browser string\n// data structures (which currently switch structure types at 12 bytes or more)\nvar TEXT_DECODER_MIN_LENGTH = 12;\nvar utf8TextDecoder = typeof TextDecoder === 'undefined' ? null : new TextDecoder('utf8');\n\nPbf.prototype = {\n\n    destroy: function() {\n        this.buf = null;\n    },\n\n    // === READING =================================================================\n\n    readFields: function(readField, result, end) {\n        end = end || this.length;\n\n        while (this.pos < end) {\n            var val = this.readVarint(),\n                tag = val >> 3,\n                startPos = this.pos;\n\n            this.type = val & 0x7;\n            readField(tag, result, this);\n\n            if (this.pos === startPos) this.skip(val);\n        }\n        return result;\n    },\n\n    readMessage: function(readField, result) {\n        return this.readFields(readField, result, this.readVarint() + this.pos);\n    },\n\n    readFixed32: function() {\n        var val = readUInt32(this.buf, this.pos);\n        this.pos += 4;\n        return val;\n    },\n\n    readSFixed32: function() {\n        var val = readInt32(this.buf, this.pos);\n        this.pos += 4;\n        return val;\n    },\n\n    // 64-bit int handling is based on github.com/dpw/node-buffer-more-ints (MIT-licensed)\n\n    readFixed64: function() {\n        var val = readUInt32(this.buf, this.pos) + readUInt32(this.buf, this.pos + 4) * SHIFT_LEFT_32;\n        this.pos += 8;\n        return val;\n    },\n\n    readSFixed64: function() {\n        var val = readUInt32(this.buf, this.pos) + readInt32(this.buf, this.pos + 4) * SHIFT_LEFT_32;\n        this.pos += 8;\n        return val;\n    },\n\n    readFloat: function() {\n        var val = ieee754.read(this.buf, this.pos, true, 23, 4);\n        this.pos += 4;\n        return val;\n    },\n\n    readDouble: function() {\n        var val = ieee754.read(this.buf, this.pos, true, 52, 8);\n        this.pos += 8;\n        return val;\n    },\n\n    readVarint: function(isSigned) {\n        var buf = this.buf,\n            val, b;\n\n        b = buf[this.pos++]; val  =  b & 0x7f;        if (b < 0x80) return val;\n        b = buf[this.pos++]; val |= (b & 0x7f) << 7;  if (b < 0x80) return val;\n        b = buf[this.pos++]; val |= (b & 0x7f) << 14; if (b < 0x80) return val;\n        b = buf[this.pos++]; val |= (b & 0x7f) << 21; if (b < 0x80) return val;\n        b = buf[this.pos];   val |= (b & 0x0f) << 28;\n\n        return readVarintRemainder(val, isSigned, this);\n    },\n\n    readVarint64: function() { // for compatibility with v2.0.1\n        return this.readVarint(true);\n    },\n\n    readSVarint: function() {\n        var num = this.readVarint();\n        return num % 2 === 1 ? (num + 1) / -2 : num / 2; // zigzag encoding\n    },\n\n    readBoolean: function() {\n        return Boolean(this.readVarint());\n    },\n\n    readString: function() {\n        var end = this.readVarint() + this.pos;\n        var pos = this.pos;\n        this.pos = end;\n\n        if (end - pos >= TEXT_DECODER_MIN_LENGTH && utf8TextDecoder) {\n            // longer strings are fast with the built-in browser TextDecoder API\n            return readUtf8TextDecoder(this.buf, pos, end);\n        }\n        // short strings are fast with our custom implementation\n        return readUtf8(this.buf, pos, end);\n    },\n\n    readBytes: function() {\n        var end = this.readVarint() + this.pos,\n            buffer = this.buf.subarray(this.pos, end);\n        this.pos = end;\n        return buffer;\n    },\n\n    // verbose for performance reasons; doesn't affect gzipped size\n\n    readPackedVarint: function(arr, isSigned) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readVarint(isSigned));\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readVarint(isSigned));\n        return arr;\n    },\n    readPackedSVarint: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readSVarint());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readSVarint());\n        return arr;\n    },\n    readPackedBoolean: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readBoolean());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readBoolean());\n        return arr;\n    },\n    readPackedFloat: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readFloat());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readFloat());\n        return arr;\n    },\n    readPackedDouble: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readDouble());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readDouble());\n        return arr;\n    },\n    readPackedFixed32: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readFixed32());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readFixed32());\n        return arr;\n    },\n    readPackedSFixed32: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readSFixed32());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readSFixed32());\n        return arr;\n    },\n    readPackedFixed64: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readFixed64());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readFixed64());\n        return arr;\n    },\n    readPackedSFixed64: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readSFixed64());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readSFixed64());\n        return arr;\n    },\n\n    skip: function(val) {\n        var type = val & 0x7;\n        if (type === Pbf.Varint) while (this.buf[this.pos++] > 0x7f) {}\n        else if (type === Pbf.Bytes) this.pos = this.readVarint() + this.pos;\n        else if (type === Pbf.Fixed32) this.pos += 4;\n        else if (type === Pbf.Fixed64) this.pos += 8;\n        else throw new Error('Unimplemented type: ' + type);\n    },\n\n    // === WRITING =================================================================\n\n    writeTag: function(tag, type) {\n        this.writeVarint((tag << 3) | type);\n    },\n\n    realloc: function(min) {\n        var length = this.length || 16;\n\n        while (length < this.pos + min) length *= 2;\n\n        if (length !== this.length) {\n            var buf = new Uint8Array(length);\n            buf.set(this.buf);\n            this.buf = buf;\n            this.length = length;\n        }\n    },\n\n    finish: function() {\n        this.length = this.pos;\n        this.pos = 0;\n        return this.buf.subarray(0, this.length);\n    },\n\n    writeFixed32: function(val) {\n        this.realloc(4);\n        writeInt32(this.buf, val, this.pos);\n        this.pos += 4;\n    },\n\n    writeSFixed32: function(val) {\n        this.realloc(4);\n        writeInt32(this.buf, val, this.pos);\n        this.pos += 4;\n    },\n\n    writeFixed64: function(val) {\n        this.realloc(8);\n        writeInt32(this.buf, val & -1, this.pos);\n        writeInt32(this.buf, Math.floor(val * SHIFT_RIGHT_32), this.pos + 4);\n        this.pos += 8;\n    },\n\n    writeSFixed64: function(val) {\n        this.realloc(8);\n        writeInt32(this.buf, val & -1, this.pos);\n        writeInt32(this.buf, Math.floor(val * SHIFT_RIGHT_32), this.pos + 4);\n        this.pos += 8;\n    },\n\n    writeVarint: function(val) {\n        val = +val || 0;\n\n        if (val > 0xfffffff || val < 0) {\n            writeBigVarint(val, this);\n            return;\n        }\n\n        this.realloc(4);\n\n        this.buf[this.pos++] =           val & 0x7f  | (val > 0x7f ? 0x80 : 0); if (val <= 0x7f) return;\n        this.buf[this.pos++] = ((val >>>= 7) & 0x7f) | (val > 0x7f ? 0x80 : 0); if (val <= 0x7f) return;\n        this.buf[this.pos++] = ((val >>>= 7) & 0x7f) | (val > 0x7f ? 0x80 : 0); if (val <= 0x7f) return;\n        this.buf[this.pos++] =   (val >>> 7) & 0x7f;\n    },\n\n    writeSVarint: function(val) {\n        this.writeVarint(val < 0 ? -val * 2 - 1 : val * 2);\n    },\n\n    writeBoolean: function(val) {\n        this.writeVarint(Boolean(val));\n    },\n\n    writeString: function(str) {\n        str = String(str);\n        this.realloc(str.length * 4);\n\n        this.pos++; // reserve 1 byte for short string length\n\n        var startPos = this.pos;\n        // write the string directly to the buffer and see how much was written\n        this.pos = writeUtf8(this.buf, str, this.pos);\n        var len = this.pos - startPos;\n\n        if (len >= 0x80) makeRoomForExtraLength(startPos, len, this);\n\n        // finally, write the message length in the reserved place and restore the position\n        this.pos = startPos - 1;\n        this.writeVarint(len);\n        this.pos += len;\n    },\n\n    writeFloat: function(val) {\n        this.realloc(4);\n        ieee754.write(this.buf, val, this.pos, true, 23, 4);\n        this.pos += 4;\n    },\n\n    writeDouble: function(val) {\n        this.realloc(8);\n        ieee754.write(this.buf, val, this.pos, true, 52, 8);\n        this.pos += 8;\n    },\n\n    writeBytes: function(buffer) {\n        var len = buffer.length;\n        this.writeVarint(len);\n        this.realloc(len);\n        for (var i = 0; i < len; i++) this.buf[this.pos++] = buffer[i];\n    },\n\n    writeRawMessage: function(fn, obj) {\n        this.pos++; // reserve 1 byte for short message length\n\n        // write the message directly to the buffer and see how much was written\n        var startPos = this.pos;\n        fn(obj, this);\n        var len = this.pos - startPos;\n\n        if (len >= 0x80) makeRoomForExtraLength(startPos, len, this);\n\n        // finally, write the message length in the reserved place and restore the position\n        this.pos = startPos - 1;\n        this.writeVarint(len);\n        this.pos += len;\n    },\n\n    writeMessage: function(tag, fn, obj) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeRawMessage(fn, obj);\n    },\n\n    writePackedVarint:   function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedVarint, arr);   },\n    writePackedSVarint:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedSVarint, arr);  },\n    writePackedBoolean:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedBoolean, arr);  },\n    writePackedFloat:    function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedFloat, arr);    },\n    writePackedDouble:   function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedDouble, arr);   },\n    writePackedFixed32:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedFixed32, arr);  },\n    writePackedSFixed32: function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedSFixed32, arr); },\n    writePackedFixed64:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedFixed64, arr);  },\n    writePackedSFixed64: function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedSFixed64, arr); },\n\n    writeBytesField: function(tag, buffer) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeBytes(buffer);\n    },\n    writeFixed32Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeFixed32(val);\n    },\n    writeSFixed32Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeSFixed32(val);\n    },\n    writeFixed64Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeFixed64(val);\n    },\n    writeSFixed64Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeSFixed64(val);\n    },\n    writeVarintField: function(tag, val) {\n        this.writeTag(tag, Pbf.Varint);\n        this.writeVarint(val);\n    },\n    writeSVarintField: function(tag, val) {\n        this.writeTag(tag, Pbf.Varint);\n        this.writeSVarint(val);\n    },\n    writeStringField: function(tag, str) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeString(str);\n    },\n    writeFloatField: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeFloat(val);\n    },\n    writeDoubleField: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeDouble(val);\n    },\n    writeBooleanField: function(tag, val) {\n        this.writeVarintField(tag, Boolean(val));\n    }\n};\n\nfunction readVarintRemainder(l, s, p) {\n    var buf = p.buf,\n        h, b;\n\n    b = buf[p.pos++]; h  = (b & 0x70) >> 4;  if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 3;  if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 10; if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 17; if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 24; if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x01) << 31; if (b < 0x80) return toNum(l, h, s);\n\n    throw new Error('Expected varint not more than 10 bytes');\n}\n\nfunction readPackedEnd(pbf) {\n    return pbf.type === Pbf.Bytes ?\n        pbf.readVarint() + pbf.pos : pbf.pos + 1;\n}\n\nfunction toNum(low, high, isSigned) {\n    if (isSigned) {\n        return high * 0x100000000 + (low >>> 0);\n    }\n\n    return ((high >>> 0) * 0x100000000) + (low >>> 0);\n}\n\nfunction writeBigVarint(val, pbf) {\n    var low, high;\n\n    if (val >= 0) {\n        low  = (val % 0x100000000) | 0;\n        high = (val / 0x100000000) | 0;\n    } else {\n        low  = ~(-val % 0x100000000);\n        high = ~(-val / 0x100000000);\n\n        if (low ^ 0xffffffff) {\n            low = (low + 1) | 0;\n        } else {\n            low = 0;\n            high = (high + 1) | 0;\n        }\n    }\n\n    if (val >= 0x10000000000000000 || val < -0x10000000000000000) {\n        throw new Error('Given varint doesn\\'t fit into 10 bytes');\n    }\n\n    pbf.realloc(10);\n\n    writeBigVarintLow(low, high, pbf);\n    writeBigVarintHigh(high, pbf);\n}\n\nfunction writeBigVarintLow(low, high, pbf) {\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos]   = low & 0x7f;\n}\n\nfunction writeBigVarintHigh(high, pbf) {\n    var lsb = (high & 0x07) << 4;\n\n    pbf.buf[pbf.pos++] |= lsb         | ((high >>>= 3) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f;\n}\n\nfunction makeRoomForExtraLength(startPos, len, pbf) {\n    var extraLen =\n        len <= 0x3fff ? 1 :\n        len <= 0x1fffff ? 2 :\n        len <= 0xfffffff ? 3 : Math.floor(Math.log(len) / (Math.LN2 * 7));\n\n    // if 1 byte isn't enough for encoding message length, shift the data to the right\n    pbf.realloc(extraLen);\n    for (var i = pbf.pos - 1; i >= startPos; i--) pbf.buf[i + extraLen] = pbf.buf[i];\n}\n\nfunction writePackedVarint(arr, pbf)   { for (var i = 0; i < arr.length; i++) pbf.writeVarint(arr[i]);   }\nfunction writePackedSVarint(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeSVarint(arr[i]);  }\nfunction writePackedFloat(arr, pbf)    { for (var i = 0; i < arr.length; i++) pbf.writeFloat(arr[i]);    }\nfunction writePackedDouble(arr, pbf)   { for (var i = 0; i < arr.length; i++) pbf.writeDouble(arr[i]);   }\nfunction writePackedBoolean(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeBoolean(arr[i]);  }\nfunction writePackedFixed32(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeFixed32(arr[i]);  }\nfunction writePackedSFixed32(arr, pbf) { for (var i = 0; i < arr.length; i++) pbf.writeSFixed32(arr[i]); }\nfunction writePackedFixed64(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeFixed64(arr[i]);  }\nfunction writePackedSFixed64(arr, pbf) { for (var i = 0; i < arr.length; i++) pbf.writeSFixed64(arr[i]); }\n\n// Buffer code below from https://github.com/feross/buffer, MIT-licensed\n\nfunction readUInt32(buf, pos) {\n    return ((buf[pos]) |\n        (buf[pos + 1] << 8) |\n        (buf[pos + 2] << 16)) +\n        (buf[pos + 3] * 0x1000000);\n}\n\nfunction writeInt32(buf, val, pos) {\n    buf[pos] = val;\n    buf[pos + 1] = (val >>> 8);\n    buf[pos + 2] = (val >>> 16);\n    buf[pos + 3] = (val >>> 24);\n}\n\nfunction readInt32(buf, pos) {\n    return ((buf[pos]) |\n        (buf[pos + 1] << 8) |\n        (buf[pos + 2] << 16)) +\n        (buf[pos + 3] << 24);\n}\n\nfunction readUtf8(buf, pos, end) {\n    var str = '';\n    var i = pos;\n\n    while (i < end) {\n        var b0 = buf[i];\n        var c = null; // codepoint\n        var bytesPerSequence =\n            b0 > 0xEF ? 4 :\n            b0 > 0xDF ? 3 :\n            b0 > 0xBF ? 2 : 1;\n\n        if (i + bytesPerSequence > end) break;\n\n        var b1, b2, b3;\n\n        if (bytesPerSequence === 1) {\n            if (b0 < 0x80) {\n                c = b0;\n            }\n        } else if (bytesPerSequence === 2) {\n            b1 = buf[i + 1];\n            if ((b1 & 0xC0) === 0x80) {\n                c = (b0 & 0x1F) << 0x6 | (b1 & 0x3F);\n                if (c <= 0x7F) {\n                    c = null;\n                }\n            }\n        } else if (bytesPerSequence === 3) {\n            b1 = buf[i + 1];\n            b2 = buf[i + 2];\n            if ((b1 & 0xC0) === 0x80 && (b2 & 0xC0) === 0x80) {\n                c = (b0 & 0xF) << 0xC | (b1 & 0x3F) << 0x6 | (b2 & 0x3F);\n                if (c <= 0x7FF || (c >= 0xD800 && c <= 0xDFFF)) {\n                    c = null;\n                }\n            }\n        } else if (bytesPerSequence === 4) {\n            b1 = buf[i + 1];\n            b2 = buf[i + 2];\n            b3 = buf[i + 3];\n            if ((b1 & 0xC0) === 0x80 && (b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80) {\n                c = (b0 & 0xF) << 0x12 | (b1 & 0x3F) << 0xC | (b2 & 0x3F) << 0x6 | (b3 & 0x3F);\n                if (c <= 0xFFFF || c >= 0x110000) {\n                    c = null;\n                }\n            }\n        }\n\n        if (c === null) {\n            c = 0xFFFD;\n            bytesPerSequence = 1;\n\n        } else if (c > 0xFFFF) {\n            c -= 0x10000;\n            str += String.fromCharCode(c >>> 10 & 0x3FF | 0xD800);\n            c = 0xDC00 | c & 0x3FF;\n        }\n\n        str += String.fromCharCode(c);\n        i += bytesPerSequence;\n    }\n\n    return str;\n}\n\nfunction readUtf8TextDecoder(buf, pos, end) {\n    return utf8TextDecoder.decode(buf.subarray(pos, end));\n}\n\nfunction writeUtf8(buf, str, pos) {\n    for (var i = 0, c, lead; i < str.length; i++) {\n        c = str.charCodeAt(i); // code point\n\n        if (c > 0xD7FF && c < 0xE000) {\n            if (lead) {\n                if (c < 0xDC00) {\n                    buf[pos++] = 0xEF;\n                    buf[pos++] = 0xBF;\n                    buf[pos++] = 0xBD;\n                    lead = c;\n                    continue;\n                } else {\n                    c = lead - 0xD800 << 10 | c - 0xDC00 | 0x10000;\n                    lead = null;\n                }\n            } else {\n                if (c > 0xDBFF || (i + 1 === str.length)) {\n                    buf[pos++] = 0xEF;\n                    buf[pos++] = 0xBF;\n                    buf[pos++] = 0xBD;\n                } else {\n                    lead = c;\n                }\n                continue;\n            }\n        } else if (lead) {\n            buf[pos++] = 0xEF;\n            buf[pos++] = 0xBF;\n            buf[pos++] = 0xBD;\n            lead = null;\n        }\n\n        if (c < 0x80) {\n            buf[pos++] = c;\n        } else {\n            if (c < 0x800) {\n                buf[pos++] = c >> 0x6 | 0xC0;\n            } else {\n                if (c < 0x10000) {\n                    buf[pos++] = c >> 0xC | 0xE0;\n                } else {\n                    buf[pos++] = c >> 0x12 | 0xF0;\n                    buf[pos++] = c >> 0xC & 0x3F | 0x80;\n                }\n                buf[pos++] = c >> 0x6 & 0x3F | 0x80;\n            }\n            buf[pos++] = c & 0x3F | 0x80;\n        }\n    }\n    return pos;\n}\n","/*\n * Copyright 2017, Joachim Kuebart <joachim.kuebart@gmail.com>\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n *   1. Redistributions of source code must retain the above copyright\n *      notice, this list of conditions and the following disclaimer.\n *\n *   2. Redistributions in binary form must reproduce the above copyright\n *      notice, this list of conditions and the following disclaimer in the\n *      documentation and/or other materials provided with the\n *      distribution.\n *\n *   3. Neither the name of the copyright holder nor the names of its\n *      contributors may be used to endorse or promote products derived\n *      from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n */\n\n/*jslint browser*/\n\n/*property\n    _globalTileRange, _tileZoom, abs, addEventParent, addFeatureLayer, addTo,\n    addVectorTile, arrayBuffer, bbox, call, coords, createTile, crs, divideBy,\n    domElement, eachFeatureLayer, extend, feature, featureToLayer, fetchOptions,\n    filter, forEach, freeze, getBounds, getFeatureId, getFeatureStyle,\n    getOrderedLayers, getPrototypeOf, getTileSize, getTileUrl, getZoomScale,\n    global, infinite, isArray, join, keys, layerName, layerOrder, layers,\n    length, max, maxDetailZoom, maxZoom, min, minDetailZoom, minZoom, ok, on,\n    onAdd, onRemove, options, properties, removeEventParent, removeFeatureLayer,\n    removeFrom, resetFeatureStyle, round, s, setFeatureStyle, setStyle, split,\n    status, statusText, style, subdomains, template, then, type, unproject,\n    vectorTileLayerStyles, x, y, z, zoomOffset, zoomReverse\n*/\n\nimport featureTile from \"./FeatureTile.js\";\nimport {\n    applyBasicStyle,\n    applyImageStyle,\n    applyPathStyle,\n    defaultFeatureLayer,\n    featureCircleLayer,\n    featureIconLayer,\n    featureLayerBase,\n    featurePathLayer\n} from \"./FeatureLayer.js\";\nimport {GridLayer, Util, latLngBounds} from \"leaflet\";\nimport Pbf from \"pbf\";\nimport {VectorTile} from \"@mapbox/vector-tile\";\n\nexport {\n    applyBasicStyle,\n    applyImageStyle,\n    applyPathStyle,\n    defaultFeatureLayer,\n    featureCircleLayer,\n    featureIconLayer,\n    featureLayerBase,\n    featurePathLayer\n};\n\nfunction err(...args) {\n    return new Error(args.join(\": \"));\n}\n\nfunction load(url, options) {\n    return fetch(url, options).then(function (response) {\n        if (response.ok) {\n            return response.arrayBuffer();\n        }\n        if (404 !== response.status) {\n            throw err(url, response.status, response.statusText);\n        }\n    });\n}\n\nfunction tileId(coords) {\n    return `${coords.x}|${coords.y}|${coords.z}`;\n}\n\nconst defaultOptions = {\n    featureToLayer: defaultFeatureLayer,\n    filter: undefined,\n    layerOrder: undefined,\n    layers: undefined,\n    minZoom: 0,\n    maxZoom: 18,\n    maxDetailZoom: undefined,\n    minDetailZoom: undefined,\n    subdomains: \"abc\",\n    zoomOffset: 0,\n    zoomReverse: false\n};\n\nexport default Object.freeze(function vectorTileLayer(url, options) {\n    const self = new GridLayer(options);\n    const m_super = Object.getPrototypeOf(self);\n    const m_featureStyle = {};\n\n    function legacyStyle(feature, layerName, zoom) {\n        const {getFeatureId, vectorTileLayerStyles} = options;\n\n        let layerStyle = vectorTileLayerStyles[layerName];\n        if (getFeatureId) {\n            const fId = getFeatureId(feature);\n            if (m_featureStyle[fId]) {\n                layerStyle = m_featureStyle[fId];\n            }\n        }\n\n        if (\"function\" === typeof layerStyle) {\n            layerStyle = layerStyle(feature.properties, zoom, feature.type);\n        }\n\n        if (Array.isArray(layerStyle)) {\n            if (!layerStyle.length) {\n                return;\n            }\n            layerStyle = layerStyle[0];\n        }\n\n        return layerStyle;\n    }\n\n    options = Util.extend({}, defaultOptions, options);\n\n    if (\"string\" === typeof options.subdomains) {\n        options.subdomains = options.subdomains.split(\"\");\n    }\n\n    // Compatibility with Leaflet.VectorGrid\n    if (options.vectorTileLayerStyles && !options.style) {\n        options.style = legacyStyle;\n    }\n\n    const m_featureTiles = {};\n    self.on(\"tileunload\", function (evt) {\n        const id = tileId(evt.coords);\n        const tile = m_featureTiles[id];\n\n        if (!tile) {\n            return;\n        }\n        tile.eachFeatureLayer(self.removeFeatureLayer);\n        delete m_featureTiles[id];\n    });\n\n    let m_map;\n    self.onAdd = function onAdd(map, ...rest) {\n        m_map = map;\n        return m_super.onAdd.call(self, map, ...rest);\n    };\n\n    self.onRemove = function onRemove(...args) {\n        m_map = undefined;\n        return m_super.onRemove.call(self, ...args);\n    };\n\n    self.createTile = function createTile(coords, done) {\n        const id = tileId(coords);\n        const tile = featureTile(coords, self);\n\n        m_featureTiles[id] = tile;\n        load(self.getTileUrl(coords), options.fetchOptions).then(\n            function (buffer) {\n                tile.addVectorTile(new VectorTile(new Pbf(buffer)));\n                done(null, tile);\n            },\n            function (exc) {\n                done(exc, tile);\n            }\n        );\n\n        return tile.domElement();\n    };\n\n    function getSubdomain(tilePoint) {\n        const index = (\n            Math.abs(tilePoint.x + tilePoint.y) %\n            options.subdomains.length\n        );\n        return options.subdomains[index];\n    }\n\n    function clampZoom(zoom) {\n        const {minDetailZoom, maxDetailZoom} = options;\n\n        if (undefined !== minDetailZoom && zoom < minDetailZoom) {\n            return minDetailZoom;\n        }\n\n        if (undefined !== maxDetailZoom && maxDetailZoom < zoom) {\n            return maxDetailZoom;\n        }\n\n        return zoom;\n    }\n\n    function getZoomForUrl(zoom) {\n        const {maxZoom, zoomReverse, zoomOffset} = options;\n\n        if (zoomReverse) {\n            zoom = maxZoom - zoom;\n        }\n\n        return clampZoom(zoom + zoomOffset);\n    }\n\n    self.getTileUrl = function getTileUrl(coords) {\n        const data = {\n            s: getSubdomain(coords),\n            x: coords.x,\n            y: coords.y,\n            z: getZoomForUrl(coords.z)\n        };\n        if (!m_map.options.crs.infinite) {\n            data[\"-y\"] = self._globalTileRange.max.y - coords.y;\n        }\n        return Util.template(\n            url,\n            Util.extend(data, options)\n        );\n    };\n\n    function eachFeatureLayer(func) {\n        Object.keys(m_featureTiles).forEach(\n            (tileId) => m_featureTiles[tileId].eachFeatureLayer(func)\n        );\n    }\n\n    self.setStyle = function setStyle(style) {\n        options.style = style;\n\n        eachFeatureLayer(function (featureLayer, idx, ignore, tile) {\n            const {feature, layerName} = featureLayer;\n            const featureStyle = self.getFeatureStyle(\n                feature,\n                layerName,\n                tile.coords().z\n            );\n\n            featureLayer.setStyle(featureStyle);\n        });\n\n        return self;\n    };\n\n    // Compatibilty with Leaflet.VectorGrid\n    self.setFeatureStyle = function setFeatureStyle(id, style) {\n        m_featureStyle[id] = style;\n        self.setStyle(options.style);\n\n        return self;\n    };\n\n    // Compatibilty with Leaflet.VectorGrid\n    self.resetFeatureStyle = function resetFeatureStyle(id) {\n        delete m_featureStyle[id];\n        self.setStyle(options.style);\n\n        return self;\n    };\n\n    self.getTileSize = function getTileSize() {\n        const tileSize = m_super.getTileSize.call(self);\n        const zoom = self._tileZoom;\n        if (zoom === undefined) {\n            return tileSize;\n        }\n        return tileSize.divideBy(\n            m_map.getZoomScale(clampZoom(zoom), zoom)\n        ).round();\n    };\n\n    self.getFeatureStyle = function getFeatureStyle(feature, layerName, zoom) {\n        if (options.filter && !options.filter(feature, layerName, zoom)) {\n            return;\n        }\n\n        const style = options.style;\n\n        return (\n            \"function\" === typeof style\n            ? style(feature, layerName, zoom)\n            : style\n        );\n    };\n\n    self.getOrderedLayers = function getOrderedLayers(layerNames, zoom) {\n        layerNames = options.layers || layerNames;\n        const layerOrder = options.layerOrder;\n        return (\n            undefined !== layerOrder\n            ? layerOrder(layerNames, zoom)\n            : layerNames\n        );\n    };\n\n    self.featureToLayer = options.featureToLayer;\n\n    self.addFeatureLayer = function addFeatureLayer(featureLayer) {\n        featureLayer.addTo(m_map);\n        featureLayer.addEventParent(self);\n\n        return self;\n    };\n\n    self.removeFeatureLayer = function removeFeatureLayer(featureLayer) {\n        featureLayer.removeEventParent(self);\n        featureLayer.removeFrom(m_map);\n\n        return self;\n    };\n\n    self.getBounds = function getBounds() {\n        // Compute bounds in lat/lng for all tiles.\n        let bounds;\n        eachFeatureLayer(function (layer, idx, ignore, tile) {\n            /// Convert from tile coordinates to lat/lng.\n            const toLatLng = (p) => m_map.unproject(\n                tile.global(p),\n                tile.coords().z\n            );\n\n            const bbox = layer.bbox();\n            const tileBounds = latLngBounds(\n                toLatLng(bbox.min),\n                toLatLng(bbox.max)\n            );\n            if (!bounds) {\n                bounds = tileBounds;\n            } else {\n                bounds.extend(tileBounds);\n            }\n        });\n\n        return bounds;\n    };\n\n    return self;\n});\n","/*\n * Copyright 2023, Joachim Kuebart <joachim.kuebart@gmail.com>\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n *   1. Redistributions of source code must retain the above copyright\n *      notice, this list of conditions and the following disclaimer.\n *\n *   2. Redistributions in binary form must reproduce the above copyright\n *      notice, this list of conditions and the following disclaimer in the\n *      documentation and/or other materials provided with the\n *      distribution.\n *\n *   3. Neither the name of the copyright holder nor the names of its\n *      contributors may be used to endorse or promote products derived\n *      from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport vectorTileLayer from \"./VectorTileLayer.js\";\nimport {\n    applyBasicStyle,\n    applyImageStyle,\n    applyPathStyle,\n    defaultFeatureLayer,\n    featureCircleLayer,\n    featureIconLayer,\n    featureLayerBase,\n    featurePathLayer\n} from \"./FeatureLayer.js\";\n\nfunction umdCompatibility(...args) {\n    return vectorTileLayer(...args);\n}\n\n// UMD doesn't support default and named exports, so provide the named\n// exports as properties on the exported object.\nObject.assign(\n    umdCompatibility,\n    {\n        // This reflects the state in 0.11.1 and 0.12.0.\n        default: vectorTileLayer,\n        applyBasicStyle,\n        applyImageStyle,\n        applyPathStyle,\n        defaultFeatureLayer,\n        featureCircleLayer,\n        featureIconLayer,\n        featureLayerBase,\n        featurePathLayer\n    }\n);\n\nexport default Object.freeze(umdCompatibility);\n"],"names":["featureTile","Object","freeze","coords","layer","self","m_tileSize","getTileSize","m_svg","SVG","create","m_rootGroup","m_layers","addFeature","feature","layerName","pxPerExtent","featureStyle","getFeatureStyle","z","ftrLyr","featureToLayer","appendChild","graphics","push","addFeatureLayer","setAttribute","x","y","addVectorTile","vectorTile","getOrderedLayers","keys","layers","forEach","tileLayer","divideBy","extent","i","length","global","p","scaleBy","add","eachFeatureLayer","func","args","domElement","pointGeometry","Point","this","Point$1","prototype","clone","_add","sub","_sub","multByPoint","_multByPoint","divByPoint","_divByPoint","mult","k","_mult","div","_div","rotate","a","_rotate","rotateAround","_rotateAround","matMult","m","_matMult","unit","_unit","perp","_perp","round","_round","mag","Math","sqrt","equals","other","dist","distSqr","dx","dy","angle","atan2","angleTo","b","angleWith","angleWithSep","cos","sin","convert","Array","isArray","require$$0","vectortilefeature","VectorTileFeature","pbf","end","values","properties","type","_pbf","_geometry","_keys","_values","readFields","readFeature","tag","id","readVarint","pos","key","value","readTag","signedArea","ring","p1","p2","sum","len","j","types","loadGeometry","line","cmd","lines","cmdLen","readSVarint","Error","bbox","x1","Infinity","x2","y1","y2","VectorTileFeature$2","toGeoJSON","size","pow","x0","y0","project","PI","atan","exp","points","rings","polygon","ccw","polygons","area","undefined","classifyRings","result","geometry","coordinates","vectortilelayer","VectorTileLayer","version","name","_features","readLayer","readString","readFloat","readDouble","readVarint64","readBoolean","readValueMessage","vectortile","readTile","VectorTile","require$$1","featureLayerBase","options","Layer","addTo","map","_map","addInteractiveTarget","removeFrom","removeInteractiveTarget","scalePoint","point","bounds","applyOptions","className","DomUtil","addClass","setStyle","applyBasicStyle","element","style","interactive","removeClass","removeAttribute","hidden","applyPathStyle","path","stroke","color","opacity","weight","lineCap","lineJoin","dashArray","dashOffset","fill","fillColor","fillOpacity","fillRule","applyImageStyle","image","icon","iconSize","iconUrl","featureCircleLayer","extend","CircleMarker","pt","radius","featurePathLayer","featureType","Polygon","Path","pointsToPath","featureIconLayer","anchor","iconAnchor","defaultFeatureLayer","ieee754","buffer","offset","isLE","mLen","nBytes","e","eLen","eMax","eBias","nBits","d","s","NaN","c","rt","abs","isNaN","floor","log","LN2","Pbf","buf","ArrayBuffer","isView","Uint8Array","Varint","Fixed64","Bytes","Fixed32","SHIFT_LEFT_32","SHIFT_RIGHT_32","utf8TextDecoder","TextDecoder","readPackedEnd","toNum","low","high","isSigned","makeRoomForExtraLength","startPos","extraLen","realloc","writePackedVarint","arr","writeVarint","writePackedSVarint","writeSVarint","writePackedFloat","writeFloat","writePackedDouble","writeDouble","writePackedBoolean","writeBoolean","writePackedFixed32","writeFixed32","writePackedSFixed32","writeSFixed32","writePackedFixed64","writeFixed64","writePackedSFixed64","writeSFixed64","readUInt32","writeInt32","val","readInt32","destroy","readField","skip","readMessage","readFixed32","readSFixed32","readFixed64","readSFixed64","read","l","h","readVarintRemainder","num","Boolean","decode","subarray","readUtf8TextDecoder","str","b1","b2","b3","b0","bytesPerSequence","String","fromCharCode","readUtf8","readBytes","readPackedVarint","readPackedSVarint","readPackedBoolean","readPackedFloat","readPackedDouble","readPackedFixed32","readPackedSFixed32","readPackedFixed64","readPackedSFixed64","writeTag","min","set","finish","writeBigVarintLow","lsb","writeBigVarintHigh","writeBigVarint","writeString","lead","charCodeAt","writeUtf8","write","writeBytes","writeRawMessage","fn","obj","writeMessage","writeBytesField","writeFixed32Field","writeSFixed32Field","writeFixed64Field","writeSFixed64Field","writeVarintField","writeSVarintField","writeStringField","writeFloatField","writeDoubleField","writeBooleanField","load","url","fetch","then","response","ok","arrayBuffer","status","join","err","statusText","tileId","defaultOptions","filter","layerOrder","minZoom","maxZoom","maxDetailZoom","minDetailZoom","subdomains","zoomOffset","zoomReverse","vectorTileLayer","GridLayer","m_super","getPrototypeOf","m_featureStyle","Util","split","vectorTileLayerStyles","zoom","getFeatureId","layerStyle","fId","m_featureTiles","m_map","getSubdomain","tilePoint","index","clampZoom","getZoomForUrl","on","evt","tile","removeFeatureLayer","onAdd","rest","call","onRemove","createTile","done","getTileUrl","fetchOptions","exc","data","crs","infinite","_globalTileRange","max","template","featureLayer","idx","ignore","setFeatureStyle","resetFeatureStyle","tileSize","_tileZoom","getZoomScale","layerNames","addEventParent","removeEventParent","getBounds","toLatLng","unproject","tileBounds","latLngBounds","umdCompatibility","assign","default"],"mappings":"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","x_google_ignoreList":[1,2,3,4,5,7,8]}